import{a as V}from"./chunk-D6SZSBQG.js";import{a as S,b as h,c as w,d as C,e as x,f as b,g as y,h as I,i as E,j as N,k as D,l as G,m as q,n as P,o as T,p as R}from"./chunk-TA3FOOKW.js";import{r as L,s as O,u as k,w as B}from"./chunk-B72XGX3C.js";import"./chunk-WXI33M2S.js";import{g as v}from"./chunk-WN5L4PGF.js";import"./chunk-NCD5H6FN.js";import"./chunk-4Y4D53RS.js";import{Gb as l,Jb as _,Ra as u,_ as F,fb as p,hb as c,lb as f,pb as n,qb as e,ra as d,rb as g,vb as M}from"./chunk-CM4JLPRO.js";function j(i,t){i&1&&(n(0,"mat-error"),l(1," este campo es obligatorio "),e())}function A(i,t){i&1&&(n(0,"mat-error"),l(1," este campo es obligatorio "),e())}var ne=(()=>{let t=class t{constructor(){this.authService=d(N),this.roleService=d(V),this.formBuilder=d(I),this._router=d(v)}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",h.required],password:["",h.required]})}login(){let m=this.loginForm.value;this.authService.login(m).subscribe(o=>{sessionStorage.setItem("token",o.token),sessionStorage.setItem("role",o.role),this.roleService.sendData(o.role),this._router.navigate(["/"])})}resetLoginForm(){this.loginForm.reset()}focus(m){m.focus()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=F({type:t,selectors:[["app-login"]],standalone:!0,features:[_],decls:16,vars:4,consts:[[1,"grid-container"],[1,"form",3,"formGroup"],[1,"example-full-width"],["type","text","formControlName","username","matInput","","placeholder","username"],["type","password","formControlName","password","matInput","","placeholder","password"],["mat-fab","","extended","","color","primary",3,"disabled","click"]],template:function(o,r){if(o&1&&(n(0,"div",0)(1,"form",1)(2,"mat-form-field",2)(3,"mat-label"),l(4,"username"),e(),g(5,"input",3),p(6,j,2,0,"mat-error"),e(),n(7,"mat-form-field",2)(8,"mat-label"),l(9,"password"),e(),g(10,"input",4),p(11,A,2,0,"mat-error"),e(),n(12,"button",5),M("click",function(){return r.login()}),n(13,"mat-icon"),l(14,"add_circle_outline"),e(),l(15," LOGIN "),e()()()),o&2){let a,s;u(),c("formGroup",r.loginForm),u(5),f(6,(a=r.loginForm.get("username"))!=null&&a.touched&&(!((a=r.loginForm.get("username"))==null||a.errors==null)&&a.errors.required)?6:-1),u(5),f(11,(s=r.loginForm.get("password"))!=null&&s.touched&&(!((s=r.loginForm.get("password"))==null||s.errors==null)&&s.errors.required)?11:-1),u(),c("disabled",r.loginForm.invalid)}},dependencies:[E,x,S,w,C,b,y,P,q,D,G,R,T,B,k,O,L],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;margin:20px;width:100%;max-width:500px;justify-self:center;gap:10px}.grid-container[_ngcontent-%COMP%]{display:grid}"]});let i=t;return i})();export{ne as LoginComponent};
